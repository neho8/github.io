
<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="keywords" content="Post 1 Headline">
  <meta name="description" content="">
  <title>Searches and Queries</title>
  <link rel="stylesheet" href="../nicepage.css" media="screen">
  <link rel="stylesheet" href="../Post-Template.css" media="screen">
  <link rel="shortcut icon" href="../images/favicon2.png" type="image/x-icon">

  <link rel="stylesheet" href="about.css">
  <script class="u-script" type="text/javascript" src="../jquery.js" defer=""></script>
  <script class="u-script" type="text/javascript" src="../nicepage.js" defer=""></script>
  <meta name="generator" content="Nicepage 5.13.1, nicepage.com">
  <link id="u-theme-google-font" rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">




  <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": ""
}</script>
  <meta name="theme-color" content="#478ac9">
  <meta data-intl-tel-input-cdn-path="intlTelInput/">
</head>

<body class="u-body u-palette-1-base u-xl-mode" data-lang="en">
  <header class="u-box-shadow u-clearfix u-header u-white u-header" id="sec-6e12">
    <div class="u-clearfix u-sheet u-sheet-1">
      <h3 class="u-text u-text-custom-color-1 u-text-default u-text-1">
        <a class="u-active-none u-border-none u-btn u-button-link u-button-style u-hover-none u-none u-text-palette-1-base u-btn-1"
          href="../index.html">Nehoray</a>
      </h3>
      <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
        <div class="menu-collapse"
          style="font-size: 1rem; letter-spacing: 0px; text-transform: uppercase; font-weight: 700;">
          <a class="u-button-style u-custom-active-border-color u-custom-active-color u-custom-border u-custom-border-color u-custom-borders u-custom-hover-border-color u-custom-hover-color u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-decoration u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base"
            href="#">
            <svg class="u-svg-link" viewBox="0 0 24 24">
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use>
            </svg>
            <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px"
              xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
              <g>
                <rect y="1" width="16" height="2"></rect>
                <rect y="7" width="16" height="2"></rect>
                <rect y="13" width="16" height="2"></rect>
              </g>
            </svg>
          </a>
        </div>
        <div class="u-custom-menu u-nav-container">
          <ul class="u-nav u-spacing-30 u-unstyled u-nav-1">
            <li class="u-nav-item">
              <a class="u-border-5 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="../index.html" style="padding: 10px 12px;">Home</a>
            </li>
            <li class="u-nav-item">
              <a class="u-border-5 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="Course.html" rel="nofollow" style="padding: 10px 12px;">GIS Foundations</a>
            </li>
            <li class="u-nav-item">
              <a class="u-border-5 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="../EO/earth-observation-essentials.html" rel="nofollow" style="padding: 10px 12px;">Earth Observation</a>
            </li>
          </ul>
        </div>
        <div class="u-custom-menu u-nav-container-collapse">
          <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
            <div class="u-inner-container-layout u-sidenav-overflow">
              <div class="u-menu-close"></div>
              <ul class="u-nav u-popupmenu-items u-unstyled u-nav-2" style="margin-left: 20px;">
                <li class="u-nav-item">
                  <a class="u-button-style u-nav-link" href="../index.html">Home</a>
                </li>
                <li class="u-nav-item">
                  <a class="u-button-style u-nav-link active" href="Course.html">GIS Foundations</a>
                </li>
                <li class="u-nav-item">
                  <a class="u-button-style u-nav-link active" href="../EO/earth-observation-essentials.html">Earth Observation</a>
                </li>
              </ul>
            </div>
          </div>
        </div> 
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div>
    </div>
  </header>
  <section class="u-align-center u-clearfix u-palette-1-light-3 u-section-1" id="sec-bdf0">
    <div class="u-clearfix u-sheet u-sheet-1">
      <!--post_details--><!--post_details_options_json--><!--{"source":""}--><!--/post_details_options_json--><!--blog_post-->
      <div class="u-container-style u-expanded-width u-post-details u-post-details-1">
        <div class="u-container-layout u-container-layout-1">
          <div class="fr-view u-clearfix u-rich-text u-text u-text-2">
            <span style="font-size: 1.2rem;" class="title-prefix">6.2</span>
            <h2 class="u-align-center u-blog-control u-text u-text-1">Searches and Queries</h2>
            <p>
              <p id="isPasted">
                <span style="font-size: 1.875rem;">
                  <span style="font-size: 1.5rem;">
                    <span style="font-size: 1rem;">
                      <span style="font-size: 1.25rem;">
                      </span>
                      <p> <br> </p>
                  <div class="learning_objectives editable block">
                  <h3 class="title">Learning Objective</h3>
                  <ol class="orderedlist" id="campbell_1.0-ch01_s01_l01">
                      <li>The objective of this section is to outline the basics of the SQL language and to understand the various query techniques available in a GIS.</li>
                  </ol>
              </div>
                <p><span style="font-size: 1.3rem;">Access to robust search and query tools is essential to examine the general trends of a dataset. <a class="glossterm">Queries</a> are essentially questions posed to a database. The selective display and retrieval of information based on these queries are essential components of any geographic information system (GIS). There are three basic methods for searching and querying attribute data: (1) selection, (2) query by attribute, and (3) query by geography.</span></p>
                &nbsp;
                <h3>Selection</h3>
                &nbsp;
                <p><span style="font-size: 1.3rem;"><a class="glossterm">Selection</a> represents the easiest way to search and query spatial data in a GIS. Selecting features highlight those attributes of interest, both on-screen and in the attribute table, for subsequent display or analysis. To accomplish this, one selects points, lines, and polygons simply by using the cursor to “point-and-click” the feature of interest or by using the cursor to drag a box around those features. Alternatively, one can select features by using a graphic object, such as a circle, line, or polygon, to highlight all of those features that fall within the object. Advanced options for selecting subsets of data from the larger dataset include creating a new selection, selecting from the currently selected features, adding to the current selection, and removing from the current selection.</span></p>
                &nbsp;
                <h3>Query by Attribute</h3>
                &nbsp;
                <p><span style="font-size: 1.3rem;">Map features and their associated data can be retrieved via the query of attribute information within the data tables. For example, search and query tools allow a user to show all the census tracts that have a population density of 500 or greater, to show all counties that are less than or equal to 100 square kilometers, or to show all convenience stores within 1 mile of an interstate highway.</span></p>
                &nbsp;
                <p><span style="font-size: 1.3rem;">Specifically, <a class="glossterm">SQL (Structured Query Language)</a> is a commonly used computer language developed to query attribute data within a relational database management system. Created by IBM in the 1970s, SQL allows for the retrieval of a subset of attribute information based on specific, user-defined criteria via the implementation of particular language elements. More recently, the use of SQL has been extended for use in a GIS (Shekhar and Chawla 2003).Shekhar, S., and S. Chawla. 2003. Spatial Databases: A Tour. Upper Saddle River, NJ: Prentice Hall. One important note related to the use of SQL is that the exact expression used to query a dataset depends on the GIS file format being examined. For example, ANSI SQL is a particular version used to query ArcSDE geodatabases, while Jet SQL is used to access personal geodatabases. Similarly, shapefiles, coverages, and dBASE tables use a restricted version of SQL that doesn’t support all the features of ANSI SQL or Jet SQL.</span></p>
                &nbsp;
                <p><span style="font-size: 1.3rem;">As discussed in <a class="link" target="_blank" href="../GIS/geospatial-data-management.html">Chapter 5 "Geospatial Data Management"</a>, <a class="link" target="_blank" href="../GIS/geospatial-database-management.html">Section 5.2 Geospatial Database Management"</a>, all attribute tables in a relational database management system (RDBMS) used for an SQL query must contain primary and/or foreign keys for proper use. In addition to these keys, SQL implements clauses to structure database queries. A <a class="glossterm">clause</a> is a language element that includes the SELECT, FROM, WHERE, ORDER BY, and HAVING query statements.</span></p>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;">SELECT denotes what attribute table fields you wish to view.</span></li>
                  <li><span style="font-size: 1.3rem;">FROM denotes the attribute table in which the information resides.</span></li>
                  <li><span style="font-size: 1.3rem;">WHERE denotes the user-defined criteria for the attribute information that must be met in order for it to be included in the output set.</span></li>
                  <li><span style="font-size: 1.3rem;">ORDER BY denotes the sequence in which the output set will be displayed.</span></li>
                  <li><span style="font-size: 1.3rem;">HAVING denotes the predicate used to filter output from the ORDER BY clause.</span></li>
                </ul>
                &nbsp;
                <p><span style="font-size: 1.3rem;">While the SELECT and FROM clauses are both mandatory statements in an SQL query, the WHERE is an optional clause used to limit the output set. The ORDER BY and HAVING are optional clauses used to present the information in an interpretable manner.</span></p>
                 &nbsp;
                 <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.6</span> - Personal Addresses in “ExampleTable” Attribute Table</p>
                  <img src="gis-images/e0fe0a05ac22294241978243657ad15f.jpg">
                </div>
                &nbsp;
                <p><span style="font-size: 1.3rem;">The following is a series of SQL expressions and results when applied to Figure 6.6 "Personal Addresses in “ExampleTable” Attribute Table". The title of the attribute table is “ExampleTable.” Note that the asterisk (*) denotes a special case of SELECT whereby all columns for a given record are selected:</span></p>
                 &nbsp;
                <p><span style="font-size: 1.3rem;">SELECT * FROM ExampleTable WHERE City = “Upland”</span></p>
                 &nbsp;
                <p><span style="font-size: 1.3rem;">This statement returns the following:</span></p>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <img src="gis-images/84ea86f47f2ebf999e9ea90e87cb8b8c.jpg">
                </div>
                &nbsp;
                <p><span style="font-size: 1.3rem;">Consider the following statement:</span></p>
                &nbsp;
               <p><span style="font-size: 1.3rem;">SELECT LastName FROM ExampleTable WHERE State = “CA” ORDER BY FirstName</span></p>
               &nbsp;
               <p><span style="font-size: 1.3rem;">This statement results in the following table sorted in ascending order by the FirstName column (not included in the output table as directed by the SELECT clause):</span></p>
               &nbsp;
               <div class="figure large medium-height editable block">
                 <img src="gis-images/f295ebb0a4bdbb24e1e7b12f6f09fe58.jpg">
               </div>
                &nbsp;
                <p><span style="font-size: 1.3rem;">In addition to clauses, SQL allows for the inclusion of specific operators to further delimit the result of query. These operators can be relational, arithmetic, or Boolean and will typically appear inside of conditional statements in the WHERE clause. A <a class="glossterm">relational operator</a> employs the statements equal to (=), less than (&lt;), less than or equal to (&lt;=), greater than (&gt;), or greater than or equal to (&gt;=). <a class="glossterm">Arithmetic operators</a> are those mathematical functions that include addition (+), subtraction (−), multiplication (*), and division (/). <a class="glossterm">Boolean operators</a> (also called Boolean connectors) include the statements AND, OR, XOR, and NOT. The AND connector is used to select records from the attribute table that satisfies both expressions. The OR connector selects records that satisfy either one or both expressions. The XOR connector selects records that satisfy one and only one of the expressions (the functional opposite of the AND connector). Lastly, the NOT connector is used to negate (or unselect) an expression that would otherwise be true. Put into the language of probability, the AND connector is used to represent an intersection, OR represents a union, and NOT represents a complement. Figure 6.7 "Venn Diagram of SQL Operators" illustrates the logic of these connectors, where circles A and B represent two sets of intersecting data. Keep in mind that SQL is a very exacting language and minor inconsistencies in the statement, such as additional spaces, can result in a failed query.</span></p>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.7</span> - Venn Diagram of SQL Operators</p>
                  <img src="gis-images/f29eee3abd014546748ecf5a5a598b1b.jpg">
                </div>
                &nbsp;
                <p><span style="font-size: 1.3rem;">Used together, these operators combine to provide the GIS user with powerful and flexible search and query options. With this in mind, can you determine the output set of the following SQL query as it is applied to Figure 6.1 "Histogram Showing the Frequency Distribution of Exam Scores"?</span></p>
                &nbsp;
                <p><span style="font-size: 1.3rem;">SELECT LastName, FirstName, StreetNumber FROM ExampleTable WHERE StreetNumber >= 10000 AND StreetNumber < 100 ORDER BY LastName</span></p>
                &nbsp;
                <p><span style="font-size: 1.3rem;">The following are the results:</span></p>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <img src="gis-images/0b2fbb5a504bc4af7b28def08865c012.jpg">
                </div>
                &nbsp;
                <h3>Query by Geography</h3>
                &nbsp;
                <p><span style="font-size: 1.3rem;">Query by geography, also known as a “spatial query,” allows one to highlight particular features by examining their position relative to other features. For example, a GIS provides robust tools that allow for the determination of the number of schools within 10 miles of a home. Several spatial query options are available, as outlined here. Throughout this discussion, the “target layer” refers to the feature dataset whose attributes are selected, while the “source layer” refers to the feature dataset on which the spatial query is applied. For example, if we were to use a state boundary polygon feature dataset to select highways from a line feature dataset (e.g., select all the highways that run through the state of Arkansas), the state layer is the source, while the highway layer is the target.</span></p>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>INTERSECT.</b> This oft-used spatial query technique selects all features in the target layer that share a common locale with the source layer. The “intersect” query allows points, lines, or polygon layers to be used as both the source and target layers (Figure 6.8).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.8</span></p>
                  <img src="gis-images/7a0a60095f2f1d6fff13793fe5ee1d7e(1).jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>ARE WITHIN A DISTANCE OF.</b> This technique requires the user to specify some distance value, which is then used to buffer (<a class="link" target="_blank" href="../GIS/geospatial-analysis-i-vector-o.html">Chapter 7 "Geospatial Analysis I: Vector Operations"</a>, <a class="link" target="_blank" href="../GIS/multiple-layer-analysis.html">Section 7.2 "Multiple Layer Analysis"</a>) the source layer. All features that intersect this buffer are highlighted in the target layer. The “are within a distance of” query allows points, lines, or polygon layers to be used for both the source and target layers (Figure 6.9).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.9</span></p>
                  <img src="gis-images/9b3e5ff24812a99e9258433b2aa95897.jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>COMPLETELY CONTAIN.</b> This spatial query technique returns those features that are entirely within the source layer. Features with coincident boundaries are not selected by this query type. The “completely contain” query allows for points, lines, or polygons as the source layer, but only polygons can be used as a target layer (Figure 6.10).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.10</span></p>
                  <img src="gis-images/fda78d9b8a0a10435047510dbdffc1b0.jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>ARE COMPLETELY WITHIN.</b> This query selects those features in the target layer whose entire spatial extent occurs within the geometry of the source layer. The “are completely within” query allows for points, lines, or polygons as the target layer, but only polygons can be used as a source layer (Figure 6.11).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.11</span></p>
                  <img src="gis-images/d17f218d182a354e38a64a0a90981abb.jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>HAVE THEIR CENTER IN.</b> This technique selects target features whose center, or centroid, is located within the boundary of the source feature dataset. The “have their center in” query allows points, lines, or polygon layers to be used as both the source and target layers (Figure 6.12).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.12</span></p>
                  <img src="gis-images/febda1bfc18bd42532873ed546bb43ba.jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>SHARE A LINE SEGMENTs.</b> This spatial query selects target features whose boundary geometries share a minimum of two adjacent vertices with the source layer. The “share a line segment” query allows for line or polygon layers to be used for either of the source and target layers (Figure 6.13).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.13</span></p>
                  <img src="gis-images/6c65cad889f14c080ec6bd140042d536.jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>TOUCH THE BOUNDARY OF.</b> This methodology is similar to the INTERSECT spatial query; however, it selects line and polygon features that share a common boundary with target layer. The “touch the boundary of” query allows for line or polygon layers to be used as both the source and target layers (Figure 6.14).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.14</span></p>
                  <img src="gis-images/1eea122af6a0514477053c9fd1e4ae09.jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>ARE IDENTICAL TO.</b> This spatial query returns features that have the exact same geographic location. The “are identical to” query can be used on points, lines, or polygons, but the target layer type must be the same as the source layer type (Figure 6.15).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.15</span></p>
                  <img src="gis-images/5d759c185697124c78c237c38e36f30d.jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>ARE CROSSED BY THE OUTLINE OF.</b> This selection criteria returns features that share a single vertex but not an entire line segment. The “are crossed by the outline of” query allows for line or polygon layers to be used as both source and target layers (Figure 6.16).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.16</span></p>
                  <img src="gis-images/bc4348930205b5d1b86977f9ba505860.jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>CONTAIN.</b> This method is similar to the COMPLETELY CONTAIN spatial query; however, features in the target layer will be selected even if the boundaries overlap. The “contain” query allows for point, line, or polygon features in the target layer when points are used as a source; when line and polygon target layers with a line source; and when only polygon target layers with a polygon source (Figure 6.17).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.17</span></p>
                  <img src="gis-images/b9fb88c22ae4490c609a22997f05f550.jpg">
                </div>
                &nbsp;
                <ul>
                  <li><span style="font-size: 1.3rem;"><b>ARE CONTAINED BY.</b> This method is similar to the ARE COMPLETELY WITHIN spatial query; however, features in the target layer will be selected even if the boundaries overlap. The “are contained by” query allows for point, line, or polygon features in the target layer when polygons are used as a source; when point and line target layers with a line source; and when only point target layers with a point source (Figure 6.18).</span></li>
                </ul>
                &nbsp;
                <div class="figure large medium-height editable block">
                  <p class="title">Figure 6.18</span></p>
                  <img src="gis-images/ebbcab4d654e600bc258816adbb8863b.jpg">
                </div>
                &nbsp;
                <div class="key_takeaways editable block">
                <h3 class="title">Key Takeaways</h3>
                <ul class="itemizedlist">
                    <li>The three basic methods for searching and querying attribute data are selection, query by attribute, and query by geography.</li>
                    <li>SQL is a commonly used computer language developed to query by attribute data within a relational database management system.</li>
                    <li>Queries by geography allow a user to highlight desired features by examining their position relative to other features. The eleven different query-by-geography options listed here are available in most GIS software packages.</li>
                </ul>
            </div>
            <div class="exercises editable block">
            <div class="exercises editable block">
                <h3 class="title">Exercises</h3>
                <ol class="orderedlist">
                  <li>Using <a class="link" target="_blank" href="descriptions-and-summaries.html#campbell_1.0-ch06_s01_s01_f01">Figure 6.1 "Histogram Showing the Frequency Distribution of Exam Scores"</a>, develop the SQL statement that results in the output of all the street names of people living in Los Angeles, sorted by street number.</li>
                  <li>When querying by geography, what is the difference between a source layer and a target layer?</li>
                  <li>What is the difference between the CONTAIN, COMPLETELY CONTAIN, and ARE CONTAINED BY queries?</li>
                </ol>
            </div>
        </div>
    </div>
    <p> <br> </p>
      <div class="nextprev" style="clear:both; text-align: center;">
      <a class="left" href="../GIS/descriptions-and-summaries.html" style="float: left;">❮ Previous</a>
      <a class="right" href="../GIS/data-classification.html" style="float: right;">Next ❯</a>
  </div>  
    <p></p>     
  </section>
  <section class="u-clearfix u-palette-1-light-3 u-section-3" id="sec-27c2">
    <div class="u-clearfix u-sheet u-sheet-1"></div>
  </section>

  <footer class="u-align-center u-clearfix u-footer u-white u-footer" id="sec-9996">
    <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
      <p class="u-small-text u-text u-text-variant u-text-1">
      Made with 💙&nbsp;by
        <a href="https://www.linkedin.com/in/nehorayshimoni/" class="u-active-none u-border-none u-btn u-button-link u-button-style u-hover-none u-none u-text-palette-1-base u-btn-1" target="_blank">Nehoray Shimoni</a>&nbsp;
      </p>
    </div>
  </footer>


</body>

</html>
